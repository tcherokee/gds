---
// First and Third Pary Plugins
import Icon from "astro-icon"

// Types
import type { TranslationData } from "../../../interfaces/common/types.ts"

//Helpers
import Images from "../helpers/images.astro";
import Link from "../helpers/link.astro";

// Stores
import { getTranslations } from "../../../stores/addTranslations.ts"

// Get Astro Data from Props
const { data } = Astro.props

// Set Up Translation Store
const translationStore: TranslationData = getTranslations.get()

---

<div class=" bg-author-wrapper-bkg m-0 rounded-lg p-3 mb-6 md:mb-0">
	<div class="flex flex-col md:flex-row items-center md:items-start w-full">
		<div class="mb-5 flex flex-col gap-2  shrink-0">
			<figure class="author-image rounded-lg overflow-hidden">
				<Images
					src={data.data.attributes.photo.data.attributes.url}
					imageWidth={120}
					imageHeight={120}
					classes=""
					alt="{data.data.attributes.firstName} {data.data.attributes.lastName} photo"
				/>
			</figure>
			<div class="flex items-center justify-center gap-1 md:justify-normal">
			{
				!data.data.attributes.twitterLink && 
					<Link href={data.data.attributes.twitterLink} > 
						<Icon name="twitter" height="25px" />
					</Link>
			}
			{
				!data.data.attributes.facebookLink && 
					<Link href={data.data.attributes.facebookLink} > 
						<Icon name="facebook" height="25px" class="fill-facebook" />
					</Link>
			}
			{
				!data.data.attributes.linkedInLink && 
					<Link href={data.data.attributes.linkedInLink} > 
						<Icon name="linkedin" height="25px" class="fill-linkedin" />
					</Link>
			}
		</div>
	</div>

	<div class="ml-5">
		<h4 class="flex !mt-0 !text-[18px] md:!text-[20px] justify-center my-4 md:justify-normal md:mb-1">
				<Link href="#">
				{`${data.data.attributes.firstName} ${data.data.attributes.lastName}`}
			</Link>
		</h4>
		<div class="flex md:mr-10 justify-center md:justify-start gap-2 flex-wrap mb-4">
			{
				data.data.attributes.jobTitle &&
				<div class="bg-grey-300 text-black text-sm flex gap-1 w-fit py-1 px-3 rounded">
					<span class="block">{translationStore.authorTitle}:</span>
					<span class="block">{data.data.attributes.jobTitle}</span>
				</div>
			}
			{
				data.data.attributes.experience &&
				<div class="bg-grey-300 text-black text-sm flex gap-1 w-fit  py-1 px-3 rounded">
					<span class="block">{translationStore.authorExperience}:</span>
					<span class="block">{data.data.attributes.experience}</span>
				</div>
			}
			{
				data.data.attributes.areaOfWork &&
				<div class="bg-grey-300 text-black text-sm flex gap-1 w-fit  py-1 px-3 rounded">
					<span class="block">{translationStore.authorAreaWork}:</span>
					<span class="block">{data.data.attributes.areaOfWork}</span>
				</div>
			}
			{
				data.data.attributes.specialization &&
				<div class="bg-grey-300 text-black text-sm flex gap-1 w-fit  py-1 px-3 rounded">
					<span class="block">{translationStore.authorSpecialization}:</span>
					<span class="block">{data.data.attributes.specialization}</span>
				</div>
			}
		</div>
		<div class="">
			<Fragment set:html={data.data.attributes.content1} />
		</div>
	</div>
</div>