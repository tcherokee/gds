---
import BlogPage from "../../components/blogs/blogPage.astro";
import BlogCategory from "../../components/blogs/blogCategory.astro";

const slugParts = (Astro.params.slug as string).split("/");
const slug = slugParts.length > 1 ? slugParts[1] : slugParts[0];

const isMatch = slugParts.length === 2 ? /^p\d+$/.test(slug) : null; // check if the route url matches for pagination
---

{
  slugParts.length === 2 || isMatch ? (
    <BlogCategory categorySlug={slug} />
  ) : (
    <BlogPage {slug} />
  )
}
